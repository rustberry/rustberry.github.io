<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.1" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.1">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.1" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.4.1',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="programming and free market">
<meta property="og:type" content="website">
<meta property="og:title" content="Rust Shrugged">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Rust Shrugged">
<meta property="og:description" content="programming and free market">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rust Shrugged">
<meta name="twitter:description" content="programming and free market">






  <link rel="canonical" href="http://yoursite.com/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Rust Shrugged</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Rust Shrugged</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about" rel="section">
      <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags" rel="section">
      <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories" rel="section">
      <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives" rel="section">
      <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/05/二叉堆与堆排序要点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Rust">
      <meta itemprop="description" content="programming and free market">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rust Shrugged">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/05/二叉堆与堆排序要点/" itemprop="url">
                  二叉堆与堆排序要点
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-05 00:00:00" itemprop="dateCreated datePublished" datetime="2019-04-05T00:00:00+08:00">2019-04-05</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="二叉堆，堆排序，与优先队列要点"><a href="#二叉堆，堆排序，与优先队列要点" class="headerlink" title="二叉堆，堆排序，与优先队列要点"></a>二叉堆，堆排序，与优先队列要点</h1><p>今天看完了红皮《算法》第二章的优先队列那一节。二叉堆，堆排序，优先队列，这些都是难舍难分密切相关的几个概念。一句话来说，优先队列作为一种高效的数据结构，其实现依赖于二叉堆这么一种数据结构。借助于优先队列，能实现一种时间复杂度为<code>logn</code>的<strong>原地</strong>排序算法，堆排序。</p>
<p>要点：</p>
<ol>
<li>二叉堆定义（用数组表示时的细节）</li>
<li><strong>插入</strong>（尾端叶子节点）与<strong>删除</strong>（根节点）的过程</li>
<li>建堆方式 + sink 下沉操作 = 堆排序——堆排序的过程</li>
<li>堆排序的优点与缺点<ol>
<li><strong>优点</strong>：内存使用，原地排序</li>
<li><strong>缺点</strong>：CPU cache 缓存命中，非稳定排序，比较次数大于快排</li>
</ol>
</li>
<li>复杂度得出过程</li>
</ol>
<p>[TOC]</p>
<h2 id="二叉堆定义与数组表示"><a href="#二叉堆定义与数组表示" class="headerlink" title="二叉堆定义与数组表示"></a>二叉堆定义与数组表示</h2><p>根节点大于等于左右两个子节点。当储存为数组时，根节点放在索引 1 的位置，为了计算便利数组的索引零不存储数据。位置为 k 的节点的父节点位置是 p &lt;= k/2，子节点在数组中的位置是 2k 和 2k+1。如图：</p>
<p><img src="/images/Post_Images/HeapRepresentations.png" alt="Heap Representations"></p>
<h2 id="二叉堆删除最大节点与插入数据过程"><a href="#二叉堆删除最大节点与插入数据过程" class="headerlink" title="二叉堆删除最大节点与插入数据过程"></a>二叉堆删除最大节点与插入数据过程</h2>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/09/Flask Web Development Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Rust">
      <meta itemprop="description" content="programming and free market">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rust Shrugged">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/09/Flask Web Development Notes/" itemprop="url">
                  Flask Web Development Notes
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-08-09 22:54:00" itemprop="dateCreated datePublished" datetime="2018-08-09T22:54:00+08:00">2018-08-09</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术笔记/" itemprop="url" rel="index"><span itemprop="name">技术笔记</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术笔记/读书笔记/" itemprop="url" rel="index"><span itemprop="name">读书笔记</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Flask-Web-Development-Notes"><a href="#Flask-Web-Development-Notes" class="headerlink" title="Flask Web Development Notes"></a>Flask Web Development Notes</h1><blockquote>
<p>这是我暑假看 Miguel 的那本著名狗书时的笔记，书的版本是最新的 second edition。当时看的是原文版，以后会写一篇文章说阅读英语原文的经验</p>
</blockquote>
<h2 id="Ch2-Basic-Application-Structure"><a href="#Ch2-Basic-Application-Structure" class="headerlink" title="Ch2 Basic Application Structure"></a>Ch2 Basic Application Structure</h2><h3 id="Run-an-app"><a href="#Run-an-app" class="headerlink" title="Run an app"></a>Run an app</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> FLASK_APP=name.py</span><br><span class="line"><span class="built_in">export</span> FLASK_DEBUG=1</span><br><span class="line">flask run</span><br></pre></td></tr></table></figure>
<h3 id="Dynamic-route"><a href="#Dynamic-route" class="headerlink" title="Dynamic route"></a>Dynamic route</h3><p>Flask supports the types <code>string</code>, <code>int</code>, <code>float</code>, and <code>path</code> for routes. The <code>path</code> type is a special <code>string</code> type.</p>
<h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><p><em>view function</em> could take as much as three arguments, <em>status code</em> and a <em>dictionary of headers</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">return</span> <span class="string">'&lt;h1&gt;Bad Request&lt;/h1&gt;'</span>, <span class="number">400</span></span><br></pre></td></tr></table></figure>
<h3 id="Compatibility-with-older-version"><a href="#Compatibility-with-older-version" class="headerlink" title="Compatibility with older version"></a>Compatibility with older version</h3><p><code>app.run(debug=True)</code></p>
<p><code>app.add_url_rule()</code>: builds the map between URL and view function</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flask run --host 0.0.0.0</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install sqlite3 libsqlite3-dev</span><br></pre></td></tr></table></figure>
<h2 id="Ch3-Templates"><a href="#Ch3-Templates" class="headerlink" title="Ch3 Templates"></a>Ch3 Templates</h2><p><em>business logic</em> and <em>presentation logic</em>, Jinja2 takes the work of <em>presentation</em>. More specifically, the application only sends variables to Jinja2, after that how the HTML page is presented is up to Jinja2.</p>
<h3 id="What-this-chapter’s-mainly-about"><a href="#What-this-chapter’s-mainly-about" class="headerlink" title="What this chapter’s mainly about"></a>What this chapter’s mainly about</h3><p>Static web pages. Topics in this chapter:</p>
<ul>
<li>What are templates; how to inherit</li>
<li>How to write URLs in Flask; <code>url_for()</code> helper function; relative &amp; absolute URLs, the latter one less useful</li>
<li>How to send static files (in template format)</li>
<li>Miscellaneous: Bootstrap integration</li>
</ul>
<h2 id="Ch4-Web-Forms"><a href="#Ch4-Web-Forms" class="headerlink" title="Ch4 Web Forms"></a>Ch4 Web Forms</h2><h3 id="Form-classes-（technical"><a href="#Form-classes-（technical" class="headerlink" title="Form classes （technical)"></a>Form classes （technical)</h3><p><code>FlaskForm</code> defines the list of <code>field</code>s in each form, each represented by an object. Each <code>field</code> object have one or more <em>validators</em> attached. A <em>validator</em> is a function. Note the three terms here, <em>FlaskForm, field, validator</em>.</p>
<h3 id="Form-submission-with-GET"><a href="#Form-submission-with-GET" class="headerlink" title="Form submission with GET"></a>Form submission with GET</h3><p>Bad. GET doesn’t have a <em>body</em>, so if submit with GET method, the <em>data</em> will be appended to the URL as a <em>query string</em>, and becomes visible in the browser’s address bar.</p>
<p>Therefore, in <em>view function</em> that deals with forms, add a <code>POST</code> method like that:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/', methods=['GET', 'POST'])</span></span><br></pre></td></tr></table></figure>
<h3 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h3><p>This method returns <code>True</code> when form is <del>submitted</del> submitted using POST method, and the data accepted by all <em>field validators</em>; used to <em>determine</em>, whether the form needs to be <em>rendered</em> or <em>processed</em>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> form.validate_on_submit():</span><br><span class="line">	<span class="comment">###</span></span><br></pre></td></tr></table></figure>
<p>The first and only required argument to <code>url_for()</code> is the <em>endpoint</em> name.  By default, the endpoint of a route is the name of the view function attached to it. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> redirect(url_for(<span class="string">'index'</span>))</span><br></pre></td></tr></table></figure>
<h2 id="Ch5-Databases"><a href="#Ch5-Databases" class="headerlink" title="Ch5 Databases"></a>Ch5 Databases</h2><h3 id="Terms"><a href="#Terms" class="headerlink" title="Terms"></a>Terms</h3><p>column: attribute of the entity; row: actual data element that <em>assigns</em> values to columns.</p>
<p>table, record –&gt; collection, document, from Relational to NoSQL</p>
<p><em>primary key</em>: a special <em>column</em>; <em>foreign keys</em>: columns</p>
<h3 id="Sum"><a href="#Sum" class="headerlink" title="Sum"></a>Sum</h3><ul>
<li>With ORM middleman, one doesn’t have to SQL semantics</li>
<li>Apply different URLs in config could migrate from different (relational) databases</li>
<li>Databases migration:<ul>
<li>Framework: <em>Flask-Migrate</em>, the <em>Alembic wrapper</em></li>
<li>Procedures: <code>flask db init</code>, creates a <em>migrations</em> directory (optional, only on a new project); <code>flask db migrate -m &quot;message&quot;</code>, <em>automatically</em> creates <em>migration script</em>, while <code>revision</code> manually; <code>flask db upgrade</code></li>
<li><code>flask db downgrade</code> and <code>... upgrade</code> gives db migrations log history like <em>git</em></li>
</ul>
</li>
</ul>
<h2 id="Ch7-Large-Application-Structure"><a href="#Ch7-Large-Application-Structure" class="headerlink" title="Ch7 Large Application Structure"></a>Ch7 Large Application Structure</h2><h3 id="Add-custom-commands-via-click"><a href="#Add-custom-commands-via-click" class="headerlink" title="Add custom commands via click"></a>Add custom commands via <em>click</em></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.cli.command()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">thatWillBetheNameofCommand</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="string">"""This will be shown in the help messages"""</span></span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h3 id="Blueprint-detail"><a href="#Blueprint-detail" class="headerlink" title="Blueprint detail"></a>Blueprint detail</h3><ul>
<li><p>In chapter 7 about <em>blueprint</em>, the module where blueprint object is must import its routes’ view functions, because</p>
<blockquote>
<p>Importing these modules causes the routes and error handlers to be associated with the blueprint. </p>
</blockquote>
</li>
<li><p>From Eg.7.7: the blueprint name before <em>endpoint</em> can be omitted, as <code>url_for(&#39;.index&#39;)</code>. <em>Redirects</em> within the same blueprint could use the shorter form, while crossing blueprints requires the fully qualified endpoint name that includes the blueprint name.</p>
</li>
</ul>
<h2 id="Ch8-User-Authentication"><a href="#Ch8-User-Authentication" class="headerlink" title="Ch8 User Authentication"></a>Ch8 User Authentication</h2><blockquote>
<p>Hashing functions are repeatable.</p>
</blockquote>
<ul>
<li><strong>Q:</strong> How could the <code>check_password_hash(hash, password)</code> check pwd without knowing the <em>salt</em> of it?</li>
</ul>
<h3 id="WTForm-write-your-own-validator-with-validate-prefix"><a href="#WTForm-write-your-own-validator-with-validate-prefix" class="headerlink" title="WTForm: write your own validator with validate_ prefix"></a>WTForm: write your own validator with <em>validate_</em> prefix</h3><ul>
<li>for <code>wtforms</code> <em>validate_</em> prefix defines custom validators; while in Python standard library <code>unittest</code> the <em>test_</em> prefix is used.</li>
<li>any function referred the database, is defined in <code>model.py</code>, as methods in those ORM models. They access the database using <code>self.attribute</code>.</li>
</ul>
<h3 id="Flask-Login-detail"><a href="#Flask-Login-detail" class="headerlink" title="Flask-Login detail"></a>Flask-Login detail</h3><p>Flask-Login requires the application to designate a function to be invoked when the extension needs to load a user from the database given its identifier, registered with <code>@login_manager.user_loader</code> decorator.</p>
<p><code>_get_user()</code> searches for a user ID in the <em>user session</em> –&gt; invoke the function registered with the <code>user_loader</code> decorator, with the ID as argument</p>
<h2 id="Ch14-API"><a href="#Ch14-API" class="headerlink" title="Ch14 API"></a>Ch14 API</h2><p>The process of converting an internal representation to a transport format such as JSON is called <strong>serialization</strong>.</p>
<h2 id="Todo"><a href="#Todo" class="headerlink" title="Todo"></a>Todo</h2><ul>
<li><p>[ ] decorators in Python<br>They are functions that takes  a func as an arg then returns another arg</p>
</li>
<li><p>[ ] <strong>OOP</strong> concepts: constructor, method&amp;attribute<br>(so far I <em>assume</em> that) Methods are funcs, attributes are data.</p>
</li>
<li><p>[x] How blocks are really defined in bootstrap/base.html</p>
</li>
<li><p>[ ] what <code>&lt;&gt;</code> means in Python code (<code>&lt;{&#39;key1&#39;: v, &#39;k2&#39;: v2}&gt;</code>)</p>
</li>
<li><p>[x] What is <em>label</em> in HTML<br>makes the form text clickable; same style with it.</p>
</li>
<li><p>[ ] &gt; The remaining class variables are the attributes of the model, defined as instances of the <code>db.Column</code> class.</p>
<p>what is <em>instance, class variable, attribute</em></p>
</li>
<li><p>[ ] <code>with</code> keyword in Python</p>
</li>
<li><p>[x] <code>__name__</code>, <code>__file__</code> and other dunder variable (<code>basedir = os.path.abspath(os.path.dirname(__file__))</code>)</p>
<ul>
<li><code>__name__</code> has two values, <code>&quot;__main__&quot;</code> (when being executed) or the module’s name (when imported). With respect to Object, <code>__name__</code> is the special attribute of a class, function, method, descriptor, or generator instance. </li>
<li><code>__file__</code>, the absolute path of the module</li>
</ul>
</li>
<li><p>[ ] functionality of the <code>__init__.py</code> file in a directory</p>
</li>
<li><p>[ ] <strong>OOP:</strong> <code>@property</code> decorator in a class</p>
</li>
<li><p>[ ] <strong>DB:</strong> <code>users = db.relationship(&#39;User&#39;, backref=&#39;role&#39;, lazy=&#39;dynamic&#39;)</code>. “users” is a <em>column</em> of the table <em>role</em>. What does <code>lazy</code> kwarg mean</p>
</li>
<li><p>[x] <strong>DB:</strong> <code>Role.query.filter_by(name=&#39;Administrator&#39;).first()</code>, type of the return value</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">User.query.filter_by(username=<span class="string">'galt'</span>).first()  <span class="comment"># output: &lt;User 'john'&gt;</span></span><br><span class="line">a = User.query.filter_by(username=<span class="string">'galt'</span>).first()</span><br><span class="line">type(a)  <span class="comment"># output: &lt;class 'app.models.User'&gt;</span></span><br></pre></td></tr></table></figure>
<p>On success, return value is the <em>row</em> in the table. <code>a.id</code> would return the <code>id</code> <em>column</em> of user <code>galt</code>.</p>
</li>
</ul>
<hr>
<ul>
<li style="list-style: none"><input type="checkbox"> Linux command <code>export</code></li>
<li style="list-style: none"><input type="checkbox"> <code>form.hidden_tag()</code> element for CSRF protection</li>
<li style="list-style: none"><input type="checkbox" checked> How much freedom does ORM/ODM provide in choosing DB, only different <em>rational databases</em>?<br>Yes.</li>
<li style="list-style: none"><input type="checkbox"> <figure class="highlight plain"><figcaption><span>wtf.quick_form(form) &#125;&#125;```, how will this template be rendered, search keyword in the book</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  - `&#123;&#123; name &#125;&#125;` construct references a **variable**, a **placeholder**</span><br><span class="line">- [ ] How to initialize `SelectField`, 7.31</span><br><span class="line">- [ ] `Post.query.order_by` will this query affect rows? 8.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### After Flask:</span><br><span class="line"></span><br><span class="line">- [ ] WTForm package *validator* source code, I assume it&apos;s just RegEx</span><br><span class="line"></span><br><span class="line">- [ ] For example, the execution of the `send_async_email()` function can be sent to a [Celery](http://www.celeryproject.org/) task queue. (p.107)</span><br><span class="line"></span><br><span class="line">- [ ] **Decorator:** How different orders affects the registered function</span><br><span class="line"></span><br><span class="line">- [ ] **Thread:** *worker thread* in Flask doc</span><br><span class="line"></span><br><span class="line">- [ ] **Iterator** and that: </span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  follows = [&#123;&apos;user&apos;: item.follower, &apos;timestamp&apos;: item.timestamp&#125;</span><br><span class="line">  for item in pagination.items]</span><br></pre></td></tr></table></figure></li>
</ul>
<p>Check yourself: </p>
<ul>
<li>How to add a new row in a table, how to change a column of a row</li>
<li>Page 182, how the foreign key of a table is added</li>
</ul>
<hr>
<ul>
<li><p>synopsis: brief summary</p>
</li>
<li><p>delimiter (<em>programming</em>)</p>
</li>
<li><p>miscellaneous</p>
</li>
<li><p><em>callable</em>, page 65</p>
</li>
<li><p>cardinality alchemy, transparent (Ch5)</p>
</li>
<li><blockquote>
<p>build a perfect <strong>replica</strong> of the virtual environment…</p>
</blockquote>
</li>
</ul>
<h2 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h2><h3 id="Object-in-Python"><a href="#Object-in-Python" class="headerlink" title="Object in Python"></a>Object in Python</h3><p>type of methods:</p>
<ul>
<li><em>instance method</em>, the 1st argument of it <em>must</em> be <code>self</code>; any method taking <code>self</code> as the 1st arg is a <em>instance method</em></li>
<li><em>class method</em>, <code>@classmethod</code>, <code>cls</code> as the 1st arg. Calling: <code>Obj().count()</code>, where <code>Obj</code> is the name of a class</li>
<li><em>static method</em>， <code>@staticmethod</code>. E.g. <code>Obj().someStaticMethod()</code></li>
</ul>
<p><code>super()</code> in Python2.x takes its own class as the first variable, like <code>super(Child, self).__init__(age, height)</code>. Also the <em>parent</em> shall be defined as <code>class Parent(object)</code>, having <code>object</code> as base class.</p>
<h3 id="REST-API"><a href="#REST-API" class="headerlink" title="REST API"></a>REST API</h3><ul>
<li>more business logic on client side</li>
<li>client could <em>discover</em> resources using different URL compositions</li>
<li>versioning for backward compatibility</li>
</ul>
<h3 id="Compare-to-Mage-Tutorial"><a href="#Compare-to-Mage-Tutorial" class="headerlink" title="Compare to Mage Tutorial"></a>Compare to Mage Tutorial</h3><ol>
<li>_get</li>
<li>plain text and HTML email</li>
<li>from GitHub’s <em>commit</em> history you could view specifically what changed in every commit</li>
</ol>
<h3 id="Test-amp-Caution"><a href="#Test-amp-Caution" class="headerlink" title="Test &amp; Caution"></a>Test &amp; Caution</h3><ol>
<li><p>Think of <strong>boundary values</strong> while designing programs.</p>
<ul>
<li><code>current_user.confirmed</code></li>
<li><code>@login_required</code></li>
<li><code>self.email.lower()</code> ensure that the string is lowercase</li>
<li><code>verify_password(email, password):</code> before loading user from DB to check pwd, <code>email</code> must be checked first not to be <code>&#39;&#39;</code></li>
</ul>
</li>
<li><p>Crucial cases where proxies provided by Flask like<code>current_app</code> can’t fake:</p>
<ul>
<li><code>current_app</code> can’t fake its type as the actual object type</li>
<li><p>when sending <em>Signals</em> or passing data <em>to a background thread</em></p>
<p>best practice:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app = current_app._get_current_object()</span><br><span class="line">my_signal.send(app)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy.exc <span class="keyword">import</span> IntegrityError</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	db.session.commit()</span><br><span class="line"><span class="keyword">except</span> IntegrityError:</span><br><span class="line">	db.session.rollback()</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>form.body.data = post.body</code>; how to render page according to attributes of the user;  Context processors make variables available to all templates during rendering</p>
</li>
<li><p><code>from app.exceptions import</code></p>
</li>
</ol>
<h3 id="The-power-of-Flask-Shell"><a href="#The-power-of-Flask-Shell" class="headerlink" title="The power of Flask Shell"></a>The power of Flask Shell</h3><p>Page 214, static method <code>add_self_follows()</code> that manipulates existed <em>rows</em></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/21/VimCheatsheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Rust">
      <meta itemprop="description" content="programming and free market">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rust Shrugged">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/21/VimCheatsheet/" itemprop="url">
                  Vim Cheat Sheet
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-21 22:54:00" itemprop="dateCreated datePublished" datetime="2018-07-21T22:54:00+08:00">2018-07-21</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术笔记/" itemprop="url" rel="index"><span itemprop="name">技术笔记</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>最近用上了 WSL，巨硬居然在 Win 上允许使用 Linux了<br>修改文件不可避免似乎就要学会 Vim 啊，后来才知道自带 nano</p>
</blockquote>
<h2 id="Motion"><a href="#Motion" class="headerlink" title="Motion"></a>Motion</h2><p><code>h</code>, <code>l</code>: move left and right</p>
<p><code>j</code>, <code>k</code>: move down and up</p>
<p><code>w</code>: next <strong>beginning</strong> of word</p>
<p><code>e</code>, <code>ge</code>: <strong>current, last</strong> <strong>end</strong> of word</p>
<p><code>b</code>, <code>B</code>: <strong>previous beginning</strong> of word and <strong>WORD</strong></p>
<p><code>0</code>, <code>^</code>: to the <strong>beginning of line</strong></p>
<p><code>$</code>: to the <strong>end</strong> of line</p>
<p><code>gg</code>, <code>G</code>: <strong>beginning</strong>, <strong>end</strong> of <strong>file</strong> </p>
<p><code>nG</code>: line n; <code>:set nu</code> to turn on line num</p>
<p><code>f&lt;char&gt;</code>, <code>F&lt;char&gt;</code>: <strong>search</strong> forward, backward</p>
<h2 id="Edit"><a href="#Edit" class="headerlink" title="Edit"></a>Edit</h2><p><code>cw</code>: <strong>C</strong>hange current word that the cursor’s at</p>
<p><code>cc</code>: <em>delete</em> the whole line and enter INSERT mode</p>
<p><code>C</code>: delete till the <strong>end of line</strong>, enter INSERT mode</p>
<p><code>r&lt;char&gt;</code>: <strong>R</strong>eplace cursor with \&lt;char></p>
<p><code>R</code>: replace successively, with each\&lt;char>  typed; <code>Esc</code> to exit</p>
<p><code>un</code> <strong>U</strong>ndo for <strong>n</strong> times</p>
<p><code>U</code> undo all changes in current <strong>line</strong></p>
<p><code>Ctrl</code> + <code>r</code>: redo</p>
<p><code>&gt;&gt;</code>, <code>&lt;&lt;</code>: tab in NORMAL mode</p>
<p><code>:set shiftwidth?</code></p>
<p><code>:ce</code> <strong>center</strong> the line</p>
<p><code>:ri</code>, <code>:le</code>: to the <strong>right</strong>, <strong>left</strong></p>
<h3 id="Search"><a href="#Search" class="headerlink" title="Search"></a>Search</h3><p><code>/</code>, <code>?</code>: search <strong>next</strong>, <strong>last</strong></p>
<p><code>n</code>, <code>N</code>: <strong>next</strong>, <strong>last</strong> result</p>
<h2 id="Insert"><a href="#Insert" class="headerlink" title="Insert"></a>Insert</h2><p><code>i</code>, <code>a</code>: insert <strong>at</strong> and <strong>append</strong> cursor position</p>
<p><code>I</code>, <code>A</code>: insert at the <strong>beginning</strong> and the <strong>end</strong> of current line</p>
<p><code>o</code>, <code>O</code>: <strong>O</strong>pen a new line <strong>after</strong> and <strong>before</strong> current line, and enter INSERT mode</p>
<h2 id="Copy-Paste-and-Cut"><a href="#Copy-Paste-and-Cut" class="headerlink" title="Copy, Paste, and Cut"></a>Copy, Paste, and Cut</h2><p><code>yy</code>: <strong>Y</strong>ank(copy) <strong>whole line</strong></p>
<p><code>yw</code>, <code>ynw</code>: copy one <strong>word</strong>, <strong>n</strong> words</p>
<p><code>y^</code>, <code>y0</code>: copy till the <strong>beginning of line</strong>, current cursor <strong>not</strong> included</p>
<p><code>y$</code>: copy till the <strong>end</strong>, char where the cursor’s at <strong>included</strong></p>
<p><code>yG</code>, <code>y1G</code>: copy till <strong>end</strong>, <strong>beginning</strong> of <strong>file</strong></p>
<p><code>p</code>: (lowercase) paste on <strong>next line</strong></p>
<p><code>P</code>: (uppercase) paste <strong>last line</strong></p>
<p><code>dd</code>: cut</p>
<p><code>ddp</code>: <strong>swap</strong> this and <strong>next</strong> line</p>
<h2 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h2><p><code>x</code>: <strong>D</strong>elete char <strong>under</strong> cursor</p>
<p><code>X</code>: delete char <strong>before</strong> cursor</p>
<p><code>dd</code>: delete the entire line</p>
<p><code>dw</code>: delete word <em>after</em> cursor; <code>w</code> + <code>dw</code></p>
<p><code>D</code>: delete till the end of <strong>line</strong></p>
<p><code>d^</code>: delete till the beginning</p>
<p><code>d1G</code>, <code>dG</code>: delete till the <strong>beginning</strong> and <strong>end</strong> of <strong>file</strong></p>
<h2 id="Repeat"><a href="#Repeat" class="headerlink" title="Repeat"></a>Repeat</h2><p><code>.</code>: repeat last command (under NORMAL mode)</p>
<p><code>N&lt;command&gt;</code>: e.g. 2dd, 10x</p>
<p><code>dnw</code>: delete a word <strong>n</strong> times </p>
<h2 id="Exit"><a href="#Exit" class="headerlink" title="Exit"></a>Exit</h2><p><code>:q</code>: quit</p>
<p><code>:wq</code>, <code>:x</code>: save and exit</p>
<p><code>:wq!</code>: <strong>force</strong> to save and quit</p>
<p><code>:w</code>, <code>:saveas</code></p>
<p><code>Shift</code> + <code>zz</code>: under NORMAL mode, save and exit</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/05/程序员练级指南/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Rust">
      <meta itemprop="description" content="programming and free market">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rust Shrugged">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/05/程序员练级指南/" itemprop="url">
                  程序员练级指南
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-05 23:31:00" itemprop="dateCreated datePublished" datetime="2018-07-05T23:31:00+08:00">2018-07-05</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/读书笔记/" itemprop="url" rel="index"><span itemprop="name">读书笔记</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>终于在极客时间上剁手了<br>这篇是耗子叔的那几篇入门指导的浓缩</p>
</blockquote>
<p>[TOC]</p>
<h1 id="入门篇"><a href="#入门篇" class="headerlink" title="入门篇"></a>入门篇</h1><h2 id="零基础启蒙"><a href="#零基础启蒙" class="headerlink" title="零基础启蒙"></a>零基础启蒙</h2><h3 id="两份入门教程（Python-amp-JS）"><a href="#两份入门教程（Python-amp-JS）" class="headerlink" title="两份入门教程（Python &amp; JS）"></a>两份入门教程（Python &amp; JS）</h3><p>都是从零开始</p>
<ul>
<li><a href="https://book.douban.com/subject/5338024/" target="_blank" rel="noopener">与孩子一起学编程</a>，六、二十章为 GUI</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web" target="_blank" rel="noopener">MDN Web 开发入门</a>，教程带你建立一个网站</li>
</ul>
<h3 id="Python-与-JavaScript-入门语言"><a href="#Python-与-JavaScript-入门语言" class="headerlink" title="Python 与 JavaScript 入门语言"></a>Python 与 JavaScript 入门语言</h3><h4 id="Python-书籍"><a href="#Python-书籍" class="headerlink" title="Python 书籍"></a>Python 书籍</h4><ul>
<li><a href="https://book.douban.com/subject/26836700/" target="_blank" rel="noopener">Python 编程快速上手</a>，控制鼠标、破解 PDF</li>
<li><a href="https://book.douban.com/subject/26829016/" target="_blank" rel="noopener">Python 编程：从入门到实践</a>，“有 Web 项目、代码部署内容”，Django 学习笔记网站，Heroku 部署，若时间有限，这一本</li>
</ul>
<h4 id="JavaScript-在线教程"><a href="#JavaScript-在线教程" class="headerlink" title="JavaScript 在线教程"></a>JavaScript 在线教程</h4><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript" target="_blank" rel="noopener">MDN JS 教程</a>，“从初级到中级再到高级，十分全面”</li>
<li><a href="http://www.w3school.com.cn/js/" target="_blank" rel="noopener">W3School JS 教程，</a>偏 Web 方向</li>
<li><a href="https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000" target="_blank" rel="noopener">廖雪峰 JS 全栈教程</a>，偏应用偏 Web，包括 Node.js</li>
</ul>
<h3 id="操作系统入门-Linux"><a href="#操作系统入门-Linux" class="headerlink" title="操作系统入门 Linux"></a>操作系统入门 Linux</h3><p><a href="https://www.w3cschool.cn/linux/" target="_blank" rel="noopener">W3CSchool Linux 教程</a></p>
<h3 id="Microsoft-Visual-Studio-Code"><a href="#Microsoft-Visual-Studio-Code" class="headerlink" title="(Microsoft) Visual Studio Code"></a>(Microsoft) Visual Studio Code</h3><p><a href="https://legacy.gitbook.com/book/jeasonstudio/vscode-cn-doc/details" target="_blank" rel="noopener">中文手册</a>，不一定非要。吸引我：在终端工具内打印 Debug 信息</p>
<h3 id="Web-编程入门"><a href="#Web-编程入门" class="headerlink" title="Web 编程入门"></a>Web 编程入门</h3><h4 id="前端基础"><a href="#前端基础" class="headerlink" title="前端基础"></a>前端基础</h4><ul>
<li>MDN CSS 文档 与 HTML 文档，参考而不是记忆</li>
<li>JS DOM 与动态网页 <a href="https://www.w3schools.com/js/js_htmldom.asp" target="_blank" rel="noopener">W3Schools 的 JavaScript HTML DOM 教程</a></li>
<li>要点：<ul>
<li>HTML 基本语法</li>
<li>CSS 如何选中 HTML 元素，应用一些基本样式</li>
<li>用 Firefox + Firebug 或 Chrome 查看炫酷网页结构</li>
</ul>
</li>
</ul>
<h4 id="后端（PHP）"><a href="#后端（PHP）" class="headerlink" title="后端（PHP）"></a>后端（PHP）</h4><h3 id="实践项目"><a href="#实践项目" class="headerlink" title="实践项目"></a>实践项目</h3><p>极简 Blog 系统，或是 BBS 系统，支持如下功能：</p>
<ul>
<li>用户登录和注册，无密码找回</li>
<li>用户发帖，仅支持纯文本</li>
<li>评论，纯文本</li>
</ul>
<p>从前端到后端，从 HTML/CSS/JS 到 Python，再到数据库</p>
<p>注意的技术点：</p>
<ul>
<li>用户登录密码不保存为明文</li>
<li>用户登录后，可对自己帖子 “重新编辑”、”删除“，但无权修改其它用户</li>
<li>数据库设计。三张表：用户表，文章表，评论表，<strong>他们之间的关联</strong></li>
</ul>
<h2 id="正式入门"><a href="#正式入门" class="headerlink" title="正式入门"></a>正式入门</h2><h3 id="编程技能"><a href="#编程技能" class="headerlink" title="编程技能"></a>编程技能</h3><p><a href="http://blog.thefirehoseproject.com/posts/learn-to-code-and-be-self-reliant/" target="_blank" rel="noopener">The Key to Accelerating Your Coding Skills</a>，文章</p>
<ul>
<li>编程技巧：Code Complete</li>
<li>编程语言：学习 Java</li>
<li>操作系统：鸟哥的 Linux 私房菜</li>
<li>网络协议：系统了解 HTTP 协议，<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP" target="_blank" rel="noopener">MDN HTTP 文档</a>，关键点：<ul>
<li>HTTP 头、HTTP 请求方法、HTTP 返回码</li>
<li>Cookie，缓存，会话，连接管理</li>
</ul>
</li>
<li>数据库设计：慕课网在线课程；推荐学习 MySQL</li>
<li>前端：jQuery，Bootstrap；Ajax 请求后端 API 接口方式；JS Promise 模式，阮一峰教程</li>
<li>字符编码</li>
</ul>
<h3 id="编程工具"><a href="#编程工具" class="headerlink" title="编程工具"></a>编程工具</h3><ul>
<li><strong>IDE</strong>：Eclipse，<a href="https://www.imooc.com/learn/924" target="_blank" rel="noopener">Intellij IDEA</a>，VS Code</li>
<li><strong>版本管理工具</strong>：Git 使用资料</li>
<li><strong>调试前端</strong>：用 Chrome 调试，资料</li>
<li><strong>数据库设计工具</strong>：MySQL WorkBench，资料</li>
</ul>
<h3 id="实践项目-1"><a href="#实践项目-1" class="headerlink" title="实践项目"></a>实践项目</h3><p>投票系统</p>
<p>业务需求：技术需求：</p>
<h3 id="入门篇小结"><a href="#入门篇小结" class="headerlink" title="入门篇小结"></a>入门篇小结</h3><ul>
<li>1 - 2 年时间</li>
<li>不用精通，能独立做出实践项目即是真正入门（耗子叔对入门的定义）</li>
<li>年薪 20万</li>
</ul>
<h1 id="修养篇"><a href="#修养篇" class="headerlink" title="修养篇"></a>修养篇</h1><h2 id="程序员修养"><a href="#程序员修养" class="headerlink" title="程序员修养"></a>程序员修养</h2><p>Quora 帖子</p>
<h3 id="附录：编程规范"><a href="#附录：编程规范" class="headerlink" title="附录：编程规范"></a>附录：编程规范</h3><h1 id="专业基础篇"><a href="#专业基础篇" class="headerlink" title="专业基础篇"></a>专业基础篇</h1><h2 id="编程语言"><a href="#编程语言" class="headerlink" title="编程语言"></a>编程语言</h2><ul>
<li>C 坑</li>
<li>C ++</li>
<li>Java<ul>
<li>C –&gt; C ++ –&gt; Java</li>
</ul>
</li>
<li>Go</li>
</ul>
<h2 id="理论学科"><a href="#理论学科" class="headerlink" title="理论学科"></a>理论学科</h2><p>”计算机学科最精华的知识，人类智慧的精华“</p>
<h3 id="数据结构与算法"><a href="#数据结构与算法" class="headerlink" title="数据结构与算法"></a>数据结构与算法</h3><ul>
<li>三本书推荐，先后顺序</li>
<li>LeetCode 使用</li>
<li>“如果想要有科班生理论基础”：<ul>
<li>数据结构与算法分析</li>
</ul>
</li>
<li>小结</li>
</ul>
<h2 id="系统知识"><a href="#系统知识" class="headerlink" title="系统知识"></a>系统知识</h2><p>Wireshark 数据包分析实战</p>
<h3 id="系统知识小程序"><a href="#系统知识小程序" class="headerlink" title="系统知识小程序"></a>系统知识小程序</h3><h3 id="实践项目-2"><a href="#实践项目-2" class="headerlink" title="实践项目"></a>实践项目</h3><ul>
<li>实现一个 telnet 版本的聊天服务器<ul>
<li><code>telnet ip:port</code>的方式连接服务器</li>
<li><strong>新连接</strong>需要用户名和密码登录，无则注册</li>
<li><em>然后</em>可以选择一个聊天室加入聊天</li>
<li><strong>管理员</strong>有权创建删除聊天室，<strong>普通人员</strong>只有 加入、退出、查询、聊天室</li>
<li>聊天室人数限制；每个人发出来的其他人都能看到</li>
</ul>
</li>
<li>简单的 HTTP 服务器<ul>
<li>解释浏览器传来的 HTTP 协议，只处理 URL path</li>
<li><em>然后</em>列出所代理的目录</li>
<li>浏览器上可以浏览目录里的文件，和下级目录</li>
<li><em>点击文件</em>，则文件传给浏览器（浏览器可自动显示图片、PDF、等）</li>
<li><em>点击子目录</em>，则进入子目录，并列出文件</li>
</ul>
</li>
<li>生产者 / 消费者消息队列服务</li>
</ul>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ul>
<li>还有热情与成就感：恭喜，超过了绝大多数人；50 万</li>
<li>术业有专攻，建议的方向</li>
</ul>
<h1 id="软件设计篇"><a href="#软件设计篇" class="headerlink" title="软件设计篇"></a>软件设计篇</h1><h2 id="软件设计"><a href="#软件设计" class="headerlink" title="软件设计"></a>软件设计</h2><h1 id="高手成长篇"><a href="#高手成长篇" class="headerlink" title="高手成长篇"></a>高手成长篇</h1><h2 id="系统底层知识"><a href="#系统底层知识" class="headerlink" title="系统底层知识"></a>系统底层知识</h2>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/24/Unicode, UTF-8, 以及 UTF-16/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Rust">
      <meta itemprop="description" content="programming and free market">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rust Shrugged">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/24/Unicode, UTF-8, 以及 UTF-16/" itemprop="url">
                  Unicode, UTF-8, 以及 UTF-16
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-06-24 00:00:00" itemprop="dateCreated datePublished" datetime="2018-06-24T00:00:00+08:00">2018-06-24</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术笔记/" itemprop="url" rel="index"><span itemprop="name">技术笔记</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Unicode-UTF-8-以及-UTF-16"><a href="#Unicode-UTF-8-以及-UTF-16" class="headerlink" title="Unicode, UTF-8, 以及 UTF-16"></a>Unicode, UTF-8, 以及 UTF-16</h1><p>对不起，但是必须要说，要想完全地搞懂 Unicode 编码，光看这篇文章是肯定不够的，你要自己去维基上看一系列文章。首推 <a href="https://en.wikipedia.org/wiki/Character_encoding" target="_blank" rel="noopener">Character encoding</a> 条目。</p>
<h2 id="基本术语"><a href="#基本术语" class="headerlink" title="基本术语"></a>基本术语</h2><p>来自维基百科的 <a href="https://en.wikipedia.org/wiki/Character_encoding" target="_blank" rel="noopener">character encoding（字符编码）</a> 词条：</p>
<p>Terminology related to code unit:</p>
<ul>
<li>A <em>character</em> is a minimal unit of text that has semantic value.</li>
<li>A <em>character set</em> is a collection of characters that might be used by multiple languages.</li>
</ul>
<p><em>Example:</em> The Latin character set is used by English and most European languages, though the Greek character set is used only by the Greek language.</p>
<ul>
<li>A <em>coded character set</em> is a character set in which each character corresponds to a unique number.</li>
<li>A <em>code point</em> of a coded character set is any allowed value in the character set.</li>
<li>A <em>code unit</em> is a bit sequence used to encode each character of a repertoire within a given encoding form.</li>
</ul>
<p>几个关键术语对应的翻译：code point，码点；code unit，编码单元。所以，一个字符（character）是具有语义的最小文本单元，更多的是一个语言学的术语；一个<em>字符集</em>（character set）是可能被好几种语言使用的字符的集合，比如拉丁语字符集同时被英语和大多数欧洲语言使用。一个<em>编码字符集</em>（coded character set）是一个字符集，其中每一个字符都对应于一个唯一的数字。一个编码字符集的<em>码点</em>（code point）是指这个字符集中所有的数字值，每一个码点对应一个字符。一个<em>编码单元</em>是一个在给定的字符编码表下，给字符编码的字节序列。</p>
<h2 id="Unicode-具体实现过程"><a href="#Unicode-具体实现过程" class="headerlink" title="Unicode 具体实现过程"></a>Unicode 具体实现过程</h2><h3 id="Unicode-四层模型"><a href="#Unicode-四层模型" class="headerlink" title="Unicode 四层模型"></a>Unicode 四层模型</h3><p>如果你能看到这，恭喜，接下来就会简单很多。Unicode 与传统的诸如 ASCII，摩斯电码用的一个重要不同在于，它们都是把字符（character）与字节序列直接对应。而对于 Unicode 来说，它会经过以下几个模型的处理：</p>
<p><strong>character –(CCS)–&gt; code point –(CEF)–&gt; code unit –(CES)–&gt; byte stream</strong></p>
<p>一个字符（character）经过编码字符集（CCS, coded character set）的映射，转化为码点（code point）。码点为<strong>十六进制</strong>，像这样：<code>U+20AC</code>，转化为字符是欧元的标志：<code>€</code>。</p>
<p>码点经过<strong>字符编码表</strong>（CEF, character encoding form）的处理，转化为编码单元（code unit）。编码单元仍然是<strong>十六进制</strong>。举例来说，同一个字符<code>a</code>，它的编码单元在 UTF-32 中是<code>00000061</code>，在 UTF-16中是 <code>0061</code>，在 UTF-8 中是 <code>61</code>。</p>
<p>最后，编码单元被 <strong>CES</strong> (Character Encoding Scheme) 转化为在机器中储存的二进制字节。”CES“ 是什么呢，举例来说，我们平常说的 UTF-8，UTF-16 其实都是 CES。</p>
<h3 id="从码点到-UTF-16"><a href="#从码点到-UTF-16" class="headerlink" title="从码点到 UTF-16"></a>从码点到 UTF-16</h3><p>从<code>U+0000</code>到<code>U+FFFF</code>为基本多语种平面（BMP），可以用两个字节表示。对于高于这个范围的，用 ”代理对“ 来间接表示。低代理项的范围为<code>U+D800</code>至 <code>U+DBFF</code>，高代理项为<code>U+DC00</code>至<code>U+DFFF</code>，一共是2048个位置。这些位置其实是位于 BMP 的保留范围。</p>
<p>从码点到 UTF-16 编码单元的解码过程：</p>
<ol>
<li>把码点减去<code>0x10000</code></li>
<li>对于高代理项（high surrogate）：<ol>
<li>地板除，除以<code>0x400</code></li>
<li>加上<code>0xD800</code></li>
</ol>
</li>
<li>对于低代理项（low surrogate）：<ol>
<li>取余数，取除以<code>0x400</code>后的余数</li>
<li>加上<code>0xDC00</code></li>
</ol>
</li>
</ol>
<p>写成直观公式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">difference = codepoint - 0x10000</span><br><span class="line">H = difference // 0x400 + 0xD800</span><br><span class="line">L = difference % 0x400 + 0xDC00</span><br></pre></td></tr></table></figure>
<p>从 UTF-16 编码单元到码点的编码可以反向推算。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">codepoint = difference + 0x10000</span><br><span class="line">difference = (H - 0xD800) * 0x400 + (L - 0xDC00)</span><br></pre></td></tr></table></figure>
<h4 id="UTF-16-与-UCS-2-兼容问题"><a href="#UTF-16-与-UCS-2-兼容问题" class="headerlink" title="UTF-16 与 UCS-2 兼容问题"></a>UTF-16 与 UCS-2 兼容问题</h4><p>Unicode 标准规定了从<code>U+D800</code>到<code>U+DFFF</code>为 reserved range，保留位。UTF-16 就是利用这一保留区段来对基本平面 BMP 以外的辅助平面进行映射。需要注意的是，虽然标准规定了这一区段不可使用，但是实际使用中，在 UCS-2 的年代是用到了这一区段的。因此在许多编码解码的应用中，如果遇到保留区段的码点，会先对这个做检查，看该码点后是否能构成代理对，而不是直接按标准，把这个定义为编码错误。</p>
<h3 id="从码点到-UTF-8"><a href="#从码点到-UTF-8" class="headerlink" title="从码点到 UTF-8"></a>从码点到 UTF-8</h3>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Rust</p>
              <p class="site-description motion-element" itemprop="description">programming and free market</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rust</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Pisces</a> v6.4.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.1"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
